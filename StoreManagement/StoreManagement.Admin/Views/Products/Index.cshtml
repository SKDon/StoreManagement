@using GridMvc.Html
@using GridMvc.Sorting
@model IEnumerable<StoreManagement.Data.Entities.Content>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>


<div>
    @Html.Action("StoresFilter", "Stores", new { actionName = "Index", controllerName = "Products" })
</div>

<div class="panel panel-info">
    <div class="panel-heading">
        <h3 class="panel-title">100 Continue</h3>
    </div>
    <div class="panel-body">The client should continue with its request.</div>
</div>

<div class="panel panel-default">
    <div class="panel-body">
        <div class="row">
            <span class="col-md-3">
                @Html.ActionLink("Create", "SaveOrEdit", "Products", new { id = 0 }, new { @class = "btn btn-primary btn-block" })
            </span>
            <span class="col-md-9">
                @Html.Partial("pSearchForm")
            </span>
        </div>
        <div class="row">
            <span class="col-md-1">
                <span class="btn btn-link btn-xs" id="SelectAll">Select All
                </span>
            </span>
            <span class="col-md-1">
                <span class="btn btn-link btn-xs" id="DeselectAll">Deselect All
                </span>
            </span>
            <span class="col-md-2">
                <span class="btn btn-link btn-xs" id="DeleteAll">Delete Selected 
                </span>
            </span>
            <span class="col-md-2">
                <select name="ItemStateSelection" id="ItemStateSelection">
                    <option value="State">Durum</option>
                    <option value="ImageState">Resim Yayında</option>
                    <option value="MainPage">Ana Sayfa</option>
                </select>
            </span><span class="col-md-2">
                <span class="btn btn-link btn-xs" id="SetStateOnAll">Set Selected State True All</span>

            </span><span class="col-md-2">
                <span class="btn btn-link btn-xs" id="SetStateOffAll">Set Selected State False All</span>

            </span>
            <span class="col-md-2">
                <span class="btn btn-link btn-xs" id="OrderingAll">Ordering All
                </span>
            </span>
        </div>

    </div>

</div>




<div class="panel panel-primary">
    <div class="panel-heading">
        <div class="row">
            <span class="col-md-6">
                @Model.Count() Records exists
            </span>
                 <span class="col-md-3">
                      
                     <p class=" text-right">    Grid Paging Number</p>
                         </span>
            <span class="col-md-3">
                <select name="GridListItemSize" class="form-control dropdown-toggle" id="GridListItemSize">
                    <option   class="text-info"  value="25">25</option>
                    <option class="text-info" value="50">50</option>
                    <option class="text-info" value="100">100</option>
                    <option class="text-info" value="250">250</option>
                    <option class="text-info" value="500">500</option>
                    <option class="text-info" value="1000">1000</option>
                </select>
            </span>
        </div>


    </div>
    @Html.Grid(Model).Named("contentGrid").Columns(columns =>
    {


        columns.Add().Encoded(false).
            Sanitized(false).
            SetWidth(10).
            RenderValueAs(o => String.Format("<input gridkey-id='{0}'  name='checkboxGrid' type='checkbox'>", o.Id));





        columns.Add(o => o.Id, true);

        columns.Add()
           .Encoded(false)
           .Sanitized(false)
           .SetWidth(30)
           .RenderValueAs(d =>
               @<b>
                   @Html.ActionLink(" ", "SaveOrEdit", "Products", new { id = d.Id }, new { @class = "btn btn-info btn-sm     glyphicon glyphicon-edit" })
               </b>);




        columns.Add(c => c.Name)
            .Titled("Title")
            .Filterable(true)
            .Sanitized(false)
            .Encoded(false)
            .RenderValueAs(o => Html.ActionLink(o.Name, "Details", "Products", new { Id = o.Id }, null).ToHtmlString());



        columns.Add(o => o.Ordering).Encoded(false).
                    Sanitized(false).
                    SetWidth(10).
                    RenderValueAs(o => String.Format("<input   gridkey-id='{0}' value='{1}'  class='GridOrderingTextbox input-xs' name='gridOrdering' type='type'>", o.Id, o.Ordering));

        columns.Add(o => o.State)
         .Titled("State")
         .Sortable(true)
         .SortInitialDirection(GridSortDirection.Descending).Encoded(false).
                    Sanitized(false)
         .RenderValueAs(o => String.Format("<input disabled='disabled' gridkey-id='{0}'  name='checkboxState' {1} type='checkbox'>", 
             o.Id,(o.State ? "checked" : "")));

        columns.Add(o => o.ImageState)
              .Titled("ImageState")
              .Sortable(true)
              .SortInitialDirection(GridSortDirection.Descending).Encoded(false).
                         Sanitized(false)
              .RenderValueAs(o => String.Format("<input disabled='disabled' gridkey-id='{0}'  name='checkboxImageState' {1} type='checkbox'>",
                  o.Id, (o.ImageState ? "checked" : "")));



        columns.Add(o => o.MainPage)
         .Titled("MainPage")
         .Sortable(true)
         .SortInitialDirection(GridSortDirection.Descending).Encoded(false).
                    Sanitized(false)
         .RenderValueAs(o => String.Format("<input disabled='disabled' gridkey-id='{0}'  name='checkboxMainPage' {1} type='checkbox'>",
             o.Id, (o.MainPage ? "checked" : "")));


     
        columns.Add(o => o.CreatedDate)
              .Titled("Date")
              .Sortable(true).
              RenderValueAs(o => String.Format("{0}", o.CreatedDate.ToShortDateString()))
              .SortInitialDirection(GridSortDirection.Descending);


    }).SetRowCssClasses(item => item.Id % 2 == 0 ? "warning" : string.Empty).WithPaging(25, 1000, "GridPageSize").Sortable().Filterable().WithMultipleFilters().Selectable(false)


</div>
