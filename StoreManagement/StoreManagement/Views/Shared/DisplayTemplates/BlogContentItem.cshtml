@model Content
@using StoreManagement.Data.Entities
@using StoreManagement.Data.GeneralHelper
@{
    var image = Model.ContentFiles.FirstOrDefault();
    var desc = GeneralHelper.GetDescription(Model.Description, 300);

    var detailActionName = "Blog";
    var detailLink = Url.Action(detailActionName, new {id = String.Format("{0}-{1}", GeneralHelper.GetUrlSeoString(Model.Name), Model.Id)});
}

<div class="four columns">
    <article class="from-the-blog">
        <figure class="from-the-blog-image">
            <a href="@detailLink">
                @if (image != null)
                {
                    <img src="@Url.Action("FetchImage", "Images", new { id = image.FileManager.GoogleImageId, size = "", contentType = image.FileManager.ContentType })" style="width: 120px; height: 120px;" alt="">
                }
            </a>
            <div class="hover-icon"></div>
        </figure>
        <section class="from-the-blog-content">
            <a href="@detailLink">
                <h5>@Model.Name </h5>
            </a>
            <span>
                @desc
            </span>
            <a href="@Url.Action(detailActionName, new { id = String.Format("{0}-{1}", GeneralHelper.GetUrlSeoString(Model.Name), Model.Id) })" class="button gray">Devamı..</a>
        </section>
    </article>
</div>
